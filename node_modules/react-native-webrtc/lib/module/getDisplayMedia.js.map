{"version":3,"sources":["getDisplayMedia.ts"],"names":["NativeModules","MediaStream","MediaStreamError","WebRTCModule","getDisplayMedia","Promise","resolve","reject","then","data","streamId","track","info","streamReactTag","tracks","stream","error"],"mappings":"AACA,SAASA,aAAT,QAA8B,cAA9B;AAEA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B;AAEA,MAAM;AAAEC,EAAAA;AAAF,IAAmBH,aAAzB;AAEA,eAAe,SAASI,eAAT,GAAiD;AAC5D,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpCJ,IAAAA,YAAY,CAACC,eAAb,GAA+BI,IAA/B,CACIC,IAAI,IAAI;AACJ,YAAM;AAAEC,QAAAA,QAAF;AAAYC,QAAAA;AAAZ,UAAsBF,IAA5B;AAEA,YAAMG,IAAI,GAAG;AACTF,QAAAA,QAAQ,EAAEA,QADD;AAETG,QAAAA,cAAc,EAAEH,QAFP;AAGTI,QAAAA,MAAM,EAAE,CAAEH,KAAF;AAHC,OAAb;AAMA,YAAMI,MAAM,GAAG,IAAId,WAAJ,CAAgBW,IAAhB,CAAf;AAEAN,MAAAA,OAAO,CAACS,MAAD,CAAP;AACH,KAbL,EAcIC,KAAK,IAAI;AACLT,MAAAA,MAAM,CAAC,IAAIL,gBAAJ,CAAqBc,KAArB,CAAD,CAAN;AACH,KAhBL;AAkBH,GAnBM,CAAP;AAoBH","sourcesContent":["\nimport { NativeModules } from 'react-native';\n\nimport MediaStream from './MediaStream';\nimport MediaStreamError from './MediaStreamError';\n\nconst { WebRTCModule } = NativeModules;\n\nexport default function getDisplayMedia(): Promise<MediaStream> {\n    return new Promise((resolve, reject) => {\n        WebRTCModule.getDisplayMedia().then(\n            data => {\n                const { streamId, track } = data;\n\n                const info = {\n                    streamId: streamId,\n                    streamReactTag: streamId,\n                    tracks: [ track ]\n                };\n\n                const stream = new MediaStream(info);\n\n                resolve(stream);\n            },\n            error => {\n                reject(new MediaStreamError(error));\n            }\n        );\n    });\n}\n"]}